{"ast":null,"code":"var http = require('http');\n\nvar url = require('url');\n\nvar fs = require('fs');\n\nconst express = require('express');\n\nconst app = express();\n\nvar pathPage = function (page) {\n  return __dirname + \"/src/\" + page + \".html\";\n};\n\nvar router = function (pathname) {\n  if (pathname && pathname != \"/\") {\n    var exist = fileExists(pathPage(pathname));\n    return exist ? pathPage(pathname) : pathPage(\"erro\");\n  }\n\n  return pathPage(\"index\");\n};\n\nvar fileExists = function (filePath) {\n  try {\n    return fs.statSync(filePath).isFile();\n  } catch (err) {\n    return false;\n  }\n};\n\nvar server = http.createServer(function (request, response) {\n  var page = router(url.parse(request.url).pathname);\n  fs.readFile(page, function (err, data) {\n    response.end(data);\n  });\n});\nserver.listen(3000, function () {\n  console.log('Servidor rodando na porta 3000');\n});","map":{"version":3,"sources":["/home/gabriel/local/coding/learning-web/pages/index.js"],"names":["http","require","url","fs","express","app","pathPage","page","__dirname","router","pathname","exist","fileExists","filePath","statSync","isFile","err","server","createServer","request","response","parse","readFile","data","end","listen","console","log"],"mappings":"AAAA,IAAIA,IAAI,GAAGC,OAAO,CAAC,MAAD,CAAlB;;AACA,IAAIC,GAAG,GAAGD,OAAO,CAAC,KAAD,CAAjB;;AACA,IAAIE,EAAE,GAAGF,OAAO,CAAC,IAAD,CAAhB;;AACA,MAAMG,OAAO,GAAGH,OAAO,CAAC,SAAD,CAAvB;;AACA,MAAMI,GAAG,GAAGD,OAAO,EAAnB;;AACA,IAAIE,QAAQ,GAAG,UAASC,IAAT,EAAc;AAC7B,SAAOC,SAAS,GAAG,OAAZ,GAAsBD,IAAtB,GAA6B,OAApC;AACC,CAFD;;AAIA,IAAIE,MAAM,GAAG,UAASC,QAAT,EAAkB;AAC/B,MAAGA,QAAQ,IAAIA,QAAQ,IAAI,GAA3B,EAA+B;AAC/B,QAAIC,KAAK,GAAGC,UAAU,CAAEN,QAAQ,CAACI,QAAD,CAAV,CAAtB;AACA,WAAOC,KAAK,GAAGL,QAAQ,CAACI,QAAD,CAAX,GAAwBJ,QAAQ,CAAC,MAAD,CAA5C;AACC;;AACD,SAAOA,QAAQ,CAAC,OAAD,CAAf;AACC,CAND;;AAQA,IAAIM,UAAU,GAAG,UAASC,QAAT,EAAkB;AACnC,MAAG;AACH,WAAOV,EAAE,CAACW,QAAH,CAAYD,QAAZ,EAAsBE,MAAtB,EAAP;AACC,GAFD,CAEC,OAAOC,GAAP,EAAW;AACZ,WAAO,KAAP;AACC;AACA,CAND;;AAQA,IAAIC,MAAM,GAAGjB,IAAI,CAACkB,YAAL,CAAkB,UAAUC,OAAV,EAAmBC,QAAnB,EAA6B;AAC5D,MAAIb,IAAI,GAAGE,MAAM,CAAEP,GAAG,CAACmB,KAAJ,CAAUF,OAAO,CAACjB,GAAlB,EAAuBQ,QAAzB,CAAjB;AACAP,EAAAA,EAAE,CAACmB,QAAH,CAAYf,IAAZ,EAAkB,UAASS,GAAT,EAAcO,IAAd,EAAmB;AACrCH,IAAAA,QAAQ,CAACI,GAAT,CAAaD,IAAb;AACC,GAFD;AAGC,CALY,CAAb;AAOAN,MAAM,CAACQ,MAAP,CAAc,IAAd,EAAoB,YAAa;AACjCC,EAAAA,OAAO,CAACC,GAAR,CAAY,gCAAZ;AACC,CAFD","sourcesContent":["var http = require('http');\nvar url = require('url');\nvar fs = require('fs');\nconst express = require('express');\nconst app = express();\nvar pathPage = function(page){\nreturn __dirname + \"/src/\" + page + \".html\";\n};\n\nvar router = function(pathname){\nif(pathname && pathname != \"/\"){\nvar exist = fileExists( pathPage(pathname) );\nreturn exist ? pathPage(pathname) : pathPage(\"erro\");\n}\nreturn pathPage(\"index\");\n};\n\nvar fileExists = function(filePath){\ntry{\nreturn fs.statSync(filePath).isFile();\n}catch (err){\nreturn false;\n}\n};\n\nvar server = http.createServer(function (request, response) {\nvar page = router( url.parse(request.url).pathname );\nfs.readFile(page, function(err, data){\nresponse.end(data);\n});\n});\n\nserver.listen(3000, function ( ) {\nconsole.log('Servidor rodando na porta 3000');\n});\n"]},"metadata":{},"sourceType":"script"}